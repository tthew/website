---
# Metadata comes from _data/metadata.js
permalink: /feed/feed.xml
pagination:
  data: words
  size: 10

eleventyExcludeFromCollections: true
---
<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="pretty-feed-v3.xsl" type="text/xsl"?>
<rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/"  xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>@tthew: words</title>
        <description>{{ metadata.description }}</description>
        <language>en</language>
        <link>{{ metadata.url | addPathPrefixToFullUrl }}</link>
        <managingEditor>{{ metadata.author.email }} ({{ metadata.author.name }})</managingEditor>
        <webMaster>{{ metadata.author.email }} ({{ metadata.author.name }})</webMaster>
        <image>
            <title>@tthew: words</title>
            <link>https://tthew.berlin/words/</link>
            <url>https://tthew.berlin/img/1564326180592.jpeg</url>
            <width>88</width>
            <height>19</height>
        </image>
        <atom:link href="{{ permalink | htmlBaseUrl(metadata.url) }}" rel="self" type="application/rss+xml" />

        {%- for post in words  %}
            {% set absolutePostUrl %}{% if post.rssOnly !== true %}{{ metadata.url }}words/{{ post.slug }}{% endif %}{% endset %}
            {% set id %}{% if post.rssOnly === true %}{{ post.slug }}{% else %}{{ absolutePostUrl}}{% endif %}{% endset %}
            <item>
                <title>{{ post.title }}</title>
                {% if absolutePostUrl %}<link>{{ absolutePostUrl }}</link>{% endif %}
                <guid>{{ id }}</guid>
                <pubdate>{{ post.date | toDate | dateToRfc3339 }}</pubdate>
                <description>
                <![CDATA[
                    {{ post.body | markdown | transformWithHtmlBase(absolutePostUrl, post.url) | safe }}
                ]]>
                </description>
            </item>
        {% endfor %}

    </channel>
</rss>
